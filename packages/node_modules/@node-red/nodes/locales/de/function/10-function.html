<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-help-name="function">
  <p> Ein JavaScript-Funktionsblock, der für die Nachrichten ausgeführt werden soll, die vom Node empfangen werden. </p>
  <p> Die Nachrichten werden als JavaScript-Objekt mit dem Namen  <code>msg</code> übergeben. </p>
  <p> Er erwartet eine Eigenschaft  <code> msg.payload </code> , die den Hauptteil der Nachricht enthält. </p>
  <p> Die Funktion wird erwartet, dass ein Nachrichtenobjekt (oder mehrere Nachrichtenobjekte) zurückgegeben werden, kann aber
     auch nichts zurückzugeben, um einen Flow zu stoppen. </p>
  <h3> Details </h3>
  <p> Siehe  <a target="_blank" href="http://nodered.org/docs/writing-functions.html"> Onlinedokumentation </a> für weitere Informationen 
    zum Schreiben von Funktionen. </p>
  <h4> Nachrichten senden </h4>
  <p> Die Funktion kann die Nachrichten zurückgeben, die sie an die nächsten Node inm Flow weitergeben möchte
    oder kann  <code>node.send (msg)</code> aufrufen. </p>
  <p> Es kann Folgendes zurückgeben/senden: </p>
  <ul>
    <li> Ein einzelnes Nachrichtenobjekt-übergeben an Node, die mit der ersten Ausgabe verbunden sind </li>
    <li> ein Array von Nachrichtenobjekten, die an Nodes übergeben werden, die mit den entsprechenden Ausgaben verbunden sind </li>
  </ul>
  <p> Wenn ein Element des Arrays selbst ein Array von Nachrichten ist, werden mehrere Nachrichten an die entsprechende Ausgabe gesendet. </p>
  <p> Wenn null zurückgegeben wird, entweder durch sich selbst oder als Element des Arrays, wird die Nachricht nicht weitergegeben. </p>
  <h4> Protokollierung und Fehlerbehandlung </h4>
  <p>Um alle Informationen zu protokollieren oder einen Fehler zu melden, sind die folgenden Funktionen verfügbar: </p>
    <ul>
        <li> <code>node.log ("Protokollnachricht")</code> </li>
        <li> <code>node.warn (" Warning")</code> </li>
        <li> <code>node.error ("Error")</code> </li>
    </ul>
  </p>
  <p> Der Catch-Node kann auch zur Bearbeitung von Fehlern verwendet werden. So rufen Sie einen Catch-Node auf:
  Übergeben Sie <code>msg</code> als zweites Argument an <code>node.error</code>:</p>
  <pre>node.error ("Error" ,msg);</pre>
  <h4> Auf Node-Informationen zugreifen </h4>
  <p> Im Funktionsblock können die ID und der Name des Nodes mit den folgenden Eigenschaften referenziert werden: </p>
  <ul>
      <li> <code>node.id</code> - ID des Nodes </li>
      <li> <code>node.name</code> - Name des Nodes </li>
  </ul>
  <h4> Umgebungsvariablen verwenden </h4>
  <p> Auf Umgebungsvariablen kann mit  <code>env.get ("MY_ENV_VAR")</code> zugegriffen werden. </p>
</script>
