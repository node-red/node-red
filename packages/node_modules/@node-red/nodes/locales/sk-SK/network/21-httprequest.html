<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="http request">
    <p>Odosiela HTTP požiadavky a vracia odpoveď.</p>

    <h3>Vstupy</h3>
    <dl class="message-properties">
        <dt class="optional">url <span class="property-type">reťazec znakov</span></dt>
        <dd>Ak nie je nakonfigurovaná v uzle, táto voliteľná vlastnosť určuje URL požiadavky.</dd>
        <dt class="optional">method <span class="property-type">reťazec znakov</span></dt>
        <dd>Ak nie je nakonfigurovaná v uzle, táto voliteľná vlastnosť určuje metódu HTTP požiadavky.
            Musí byť jednou z nasledujúcich metód: <code>GET</code>, <code>PUT</code>, <code>POST</code>, <code>PATCH</code> alebo <code>DELETE</code>.</dd>
        <dt class="optional">headers <span class="property-type">objekt</span></dt>
        <dd>Nastavuje HTTP hlavičky požiadavky. POZNÁMKA: Všetky hlavičky nastavené v konfigurácii uzla prepíšu všetky zodpovedajúce hlavičky v <code>msg.headers</code>.</dd>
        <dt class="optional">cookies <span class="property-type">objekt</span></dt>
        <dd>Ak je nastavené, môže byť použité na odoslanie cookies s požiadavkou.</dd>
        <dt class="optional">payload</dt>
        <dd>Odoslané v tele požiadavky.</dd>
        <dt class="optional">rejectUnauthorized</dt>
        <dd>Ak je nastavené na <code>false</code>, umožňuje vykonávať požiadavky na https stránky, ktoré používajú
            samopodpisované certifikáty.</dd>
        <dt class="optional">followRedirects</dt>
        <dd>Ak je nastavené na <code>false</code>, zabraňuje nasledovaniu presmerovania (HTTP 301). Predvolene je to<code>true</code></dd>
        <dt class="voliteľné" >requestTimeout</dt>
        <dd>Ak je nastavené na kladný počet milisekúnd, nahradí nastavenie<code>httpRequestTimeout</code>nastavené globálne.</dd>
    </dl>
    <h3>výstupy</h3>
    <dl class="message-properties">
        <dt>payload <span class="property-type">reťazec znakov | objekt | vyrovnávacia pamäť</span></dt>
        <dd>Telo odpovede. Uzol môže byť nakonfigurovaný tak, aby vrátil telo
            ako reťazec, pokúsil sa ho analyzovať ako reťazec JSON alebo ho nechal
            ako binárnu vyrovnávaciu pamäť.</dd>
        <dt>statusCode <span class="property-type">číslo</span></dt>
        <dd>Kód stavu odpovede alebo kód chyby, ak sa žiadosť nepodarilo dokončiť.</dd>
        <dt>headers <span class="property-type">objekt</span></dt>
        <dd>Objekt obsahujúci hlavičky odpovede.</dd>
        <dt>responseUrl <span class="property-type">reťazec znakov</span></dt>
        <dd>V prípade, že počas spracovania žiadosti došlo k presmerovaniam, táto vlastnosť je konečná presmerovaná URL.
            Inak URL pôvodnej žiadosti.</dd>
        <dt>responseCookies <span class="property-type">objekt</span></dt>
        <dd>Ak odpoveď obsahuje cookies, táto vlastnosť je objekt párov názov/hodnota pre každý cookie.</dd>
        <dt>redirectList <span class="property-type">pole</span></dt>
        <dd>Ak bola žiadosť presmerovaná raz alebo viackrát, nahromadené informácie budú pridané k tejto vlastnosti. `location` je ďalšia cieľová destinácia presmerovania. `cookies` zodpovedajú cookies vráteným zdrojom presmerovania.</dd>
    </dl>
    <h3>Detaily</h3>
    <p>Keď je nakonfigurovaná v uzle, vlastnosť URL obsahovať <a href="http://mustache.github.io/mustache.5.html" target="_blank">mustache-style</a> značky. Tieto umožňujú
    URL zostaviť pomocou hodnôt prichádzajúcej správy. Napríklad, ak je URL nastavená na
    <code>example.com/{{{topic}}}</code>, hodnota z <code>msg.topic</code> bude automaticky vložená.
    Použitie {{{...}}} zabraňuje štýlu moustache uniknúť znakom ako sú/ & atď.</p>
    <p>Uzol môže voliteľne automaticky zakódovať <code>msg.payload</code> ako parametre reťazca požiadavky pre GET požiadavku, v takom prípade musí byť <code>msg.payload</code> objektom.</p >
    <p><b>Poznámka</b>: v prípade spustenia za proxy serverom musí byť nastavená štandardná premenná prostredia <code>http_proxy=...</code> a Node-RED reštartovaný, alebo použiť konfiguráciu proxy. Ak bola konfigurácia proxy nastavená, má prednosť pred premennou prostredia.</p>
    <h4>Použitie viacerých uzlov HTTP požiadaviek</h4>
    <p>Aby bolo možné použiť viac ako jeden z týchto uzlov v rovnakom toku, musia sa prijať opatrenia s
    vlastnosťou <code>msg.headers</code>. Prvý uzol nastaví túto vlastnosť s
    hlavičkami odpovede. Nasledujúci uzol potom použije tieto hlavičky pre svoju požiadavku - toto
    zvyčajne nie je správna vec. Ak zostane vlastnosť <code>msg.headers</code>nezmenená
    medzi uzlami, bude ignorovaná druhým uzlom. Ak chcete nastaviť vlastné hlavičky, musí byť najprv odstránený alebo resetovaný na prázdny objekt: {}.
    <h4>Spravovanie cookies</h4>
    <p>Vlastnosť cookies odoslaná uzlu musí byť objektom párov názov/hodnota.
    Hodnota môže byť buď reťazec pre nastavenie hodnoty cookie, alebo objekt s jedinou vlastnosťou value.<p>
    <p>Všetky cookies vrátené požiadavkou sú odoslané pod vlastnosťou responseCookies.</p>
    <h4>Spravovanie typov obsahu</h4>
    <p>Pokiaľ je msg.payload objektom, uzol automaticky nastaví typ obsahu
    požiadavky na application/json a zakóduje telo ako také.</p>
    <p>Na zakódovanie požiadavky ako formulárových dát musí byť msg.headers["content-type"] nastavený na application/x-www-form-urlencoded.< / p >
    <h4>Nahranie súboru</h4>
    <p>Aby bolo možné vykonať nahranie súboru, musí byť msg.headers["content-type"] nastavený na multipart/form-data
    a msg.payload odoslaný uzlu musí byť objekt so štruktúrou:</p>
    <pre><code>{
    "KEY": {
        "value": FILE_CONTENTS,
        "options": {
            "filename": "FILENAME"
        }
    }
}</code></pre>
    <p>Hodnoty <code>KEY</code>, <code>FILE_CONTENTS</code> a <code>FILENAME</code>
        musia byť nastavené na príslušné hodnoty.</p>

</script>