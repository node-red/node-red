<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="function">
    <p>JavaScript funkcia na vykonanie na správach prijatých uzlom.</p>
    <p>Správy sú prenášané vo forme JavaScript objektu nazývaného <code>msg</code>.</p>
    <p>Podľa konvencie bude mať vlastnosť <code>msg.payload</code> obsahujúcu
      telo správy.</p>
    <p>Funkcia má vrátiť objekt správy (alebo viacero objektov správy), ale môže sa rozhodnúť
      nevrátiť nič, aby zastavila tok.</p>
    <p>Karta <b>Pri spustení</b> obsahuje kód, ktorý sa vykoná pri každom spustení uzla.
      Karta <b>Pri zastavení</b> obsahuje kód, ktorý sa vykoná, keď je uzol zastavený.</p>
    <p>Ak kód 'Pri spustení' vráti objekt Promise (sľub), uzol nezačne spracovávať správy
      až do vyriešenia sľubu.</p>
    <h3>Detaily</h3>
    <p>Pozrite si <a target="_blank" href="https://nodered.org/docs/writing-functions.html">online dokumentáciu</a>
      pre viac informácií o písaní funkcií.</p>
    <h4>Odosielanie správ</h4>
    <p>Funkcia môže odosielať správy, ktoré chce preniesť do nasledujúcich uzlov
      v toku, buď pomocou <code>return msg</code>, alebo zavolaním funkcie <code>node.send(messages)</code>.</p>
    <p>Môže vrátiť/odoslať:</p>
    <ul>
      <li>jediný objekt správy - prenesený do uzlov pripojených k prvému výstupu</li>
      <li>pole objektov správy - prenesené do uzlov pripojených k zodpovedajúcim výstupom</li>
    </ul>
    <p>Poznámka: Kód 'Pri spustení' je vykonaný počas inicializácie uzlov. Preto, ak je v karte Pri spustení zavolaný `node.send`, nasledujúce uzly nemusia byť schopné prijímať správu.</p>
    <p>Ak je položka poľa sama o sebe pole správ, viacero
      správ je odoslaných na zodpovedajúci výstup.</p>
    <p>Ak je vrátené null, samostatne alebo ako položka poľa, žiadna
      správa nie je odoslaná.</p>
    <h4>Zaznamenávanie a správa chýb</h4>
    <p>Na zaznamenávanie informácií alebo hlásenie chyby sú dostupné nasledujúce funkcie:</p>
      <ul>
          <li><code>node.log("Správa pre denník")</code></li>
          <li><code>node.warn("Upozornenie")</code></li>
          <li><code>node.error("Chyba")</code></li>
      </ul>
    </p>
    <p>Uzel Catch môže byť tiež použitý na spracovanie chýb. Na vyvolanie uzla Catch,
      prejdite `msg` ako druhý argument do `node.error`:</p>
    <pre>node.error("Chyba",msg);</pre>
    <h4>Prístup k informáciám o uzle</h4>
    <p>Sú dostupné nasledujúce vlastnosti na prístup k informáciám o uzle:</p>
    <ul>
        <li><code>node.id</code> - identifikátor uzla</li>
        <li><code>node.name</code> - názov uzla</li>
        <li><code>node.outputCount</code> - počet výstupov uzla</li>
    </ul>
    <h4>Používanie premenných prostredia</h4>
    <p>Premené prostredia sú prístupné pomocou `env.get("MA_VAR__ENV")`.</p>
</script>

